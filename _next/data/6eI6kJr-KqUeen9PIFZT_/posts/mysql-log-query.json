{"pageProps":{"postData":{"id":"mysql-log-query","contentHtml":"<h1>วีธีเก็บ Log Query ที่ทำงานช้าใน MySql</h1>\n<ol>\n<li>Log in เข้าไปยัง Server ด้วย SSH</li>\n<li>เข้าใช้งาน MySql ด้วย คำสั่ง “mysql -u root -p”</li>\n<li>พิมพ์ MySQL root password.</li>\n<li>เปิดใช้งาน slow query log พิมพ์คำสั่งหลัง mysql><pre><code class=\"language-sql\">SET GLOBAL slow_query_log = ‘ON’;\n</code></pre></li>\n<li>กำหนดเวลาขั้นต่ำที่ต้องการ หากไม่กำหนดค่าเริ่มต้นจะอยู่ที่ 10 วินาที ผมจะกำหนดเป็น 3 วินาที เมื่อรัน Query นาน ≥ 3 วินาที จะเก็บ Query ไว้ใน Log<pre><code class=\"language-sql\">SET GLOBAL long_query_time = 3; \n</code></pre></li>\n<li>หนดเวลาตำแหน่งตของ Log หากไม่กำหนดค่าเริ่มต้นจะอยู่ที่ ‘/var/lib/mysql/hostname-slow.log’<pre><code>```sql\nSET GLOBAL slow_query_log_file = ‘/path/filename’; \n```\n</code></pre>อ้างอิง: <a href=\"https://www.a2hosting.com/kb/developer-corner/mysql/enabling-the-slow-query-log-in-mysql\">https://www.a2hosting.com/kb/developer-corner/mysql/enabling-the-slow-query-log-in-mysql</a></li>\n</ol>\n","title":"วีธีเก็บ Log Query ที่ทำงานช้าใน MySql","description":"1. Log in เข้าไปยัง Server ด้วย SSH 2. เข้าใช้งาน MySql ด้วย คำสั่ง “mysql -u root -p” 3. พิมพ์ MySQL root password.","date":"2020-05-25"}},"__N_SSG":true}