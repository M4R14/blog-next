{"version":3,"file":"static/webpack/static/development/pages/index.js.127f1f03bbd7b59e1d92.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Link from 'next/link'\nimport { parse } from 'node-html-parser';\n\nimport Layout from './../components/Layout';\n\nimport { getAllPostIds, getPostData } from '../lib/posts'\n\nconst Post = ({params}) => {\n  const contentHtml = () => {\n    const root = parse(params.contentHtml);\n    console.log(root.querySelector('h1').childNodes[0]);\n    return root.toString();\n  }\n  return (\n    <div className=\"mb-5\">\n      {/* <h4 className=\"mb-0\">\n        <Link href={`/posts/${params.slug}`} as={process.env.ASSET_PREFIX+ `/posts/${params.id}`} >\n          {params.title}\n        </Link>\n      </h4>\n      <p>\n        {params.description}\n      </p> */}\n      <div className=\"d-flex w-100 justify-content-end\">\n        <small className=\"text-secondary\" >{params.date}</small>\n      </div>\n      <div className=\"post\" dangerouslySetInnerHTML={{ __html: contentHtml() }} />\n    </div>\n  )\n}\n\nPost.getStaticProps = async ({ params }) => {\n  const postData = await getPostData(params.id)\n  return {\n    props: {\n      postData\n    }\n  }\n}\n\nexport default function Home({ posts }) {\n  return (\n    <Layout>\n      <div>\n        { posts.map(post => Post(post)) }\n      </div>\n    </Layout>\n  )\n}\n\nexport async function getStaticProps() {\n  let posts = getAllPostIds();\n  posts = posts.sort((a, b) => {\n    var dateA = new Date(a.params.date);\n    var dateB = new Date(b.params.date);\n    return  dateB - dateA;\n  })\n\n  for (let index = 0; index < posts.length; index++) {\n    const post = posts[index];\n    posts[index].params.contentHtml =  (await getPostData(post.params.id)).contentHtml\n  }\n\n  return {\n    props: {\n      posts,\n    }\n  }\n}\n\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AASA;AAAA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAGA;AACA;AADA;AADA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAQA;AAAA;AACA;AAGA;AAAA;AAIA;;;;A","sourceRoot":""}